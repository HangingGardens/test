{"version":3,"sources":["webpack:///./src/views/DonateDividends.vue?8111","webpack:///./src/views/DonateDividends.vue?4eeb","webpack:///./src/contracts/contractCrowd.js","webpack:///./src/contracts/contractDonateProcessor.js","webpack:///./src/contracts/contractMaiDis.js","webpack:///src/views/DonateDividends.vue","webpack:///./src/views/DonateDividends.vue?7612","webpack:///./src/views/DonateDividends.vue"],"names":["web3","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","balance","staticStyle","attrs","balanceLoading","on","processDonate","donateDividends","initiate","balance1","balance1Loading","processDonate1","$gbUtils","formatEightBalance","balanceMai","balanceMaiLoading","processDonateMai","balanceMcoin","balanceMcoinLoading","processDonateMcoin","address","expected","_l","item","index","key","slice","dividendAddress","length","staticRenderFns","provider","config","Web3","window","ethereum","providers","HttpProvider","currentAccount","store","state","myAcount","contractInstance","eth","Contract","contractAbi","crowdfunding","donateAmount","methods","call","amount","Web3Obj","fromWei","successResult","failResult","connectWallet","send","from","resp","contractAddress","maiDistribute","web3Obj","donateBalance","donateProcessor","DONATE","name","data","link","mcoinDonateAddress","mocinSymbol","mounted","computed","mapState","init","go","url","getDonateBalance","lighting","queryDonatedList","donation","getCrowdBalance","contractCrowd","getMaiBalance","contractMaiDis","getMcoinDonateAddress","contractDonateProcessor","console","getMcoinBalance","contractToken","component"],"mappings":"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","file":"js/chunk-58d3fd58.54836802.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateDividends.vue?vue&type=style&index=0&id=6044c604&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"content\"},[_c('div',[_c('div',{staticClass:\"balance\"},[_vm._v(\"Metabill LP\")]),_c('div',{staticClass:\"data\"},[_vm._v(_vm._s(_vm.balance))])]),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('van-button',{staticClass:\"btn\",attrs:{\"loading\":_vm.balanceLoading,\"disabled\":!+_vm.balance},on:{\"click\":_vm.processDonate}},[_vm._v(_vm._s(_vm.donateDividends.initiate))])],1)]),_c('div',{staticClass:\"content\"},[_c('div',[_c('div',{staticClass:\"balance\"},[_vm._v(\"Metacrowd LP\")]),_c('div',{staticClass:\"data\"},[_vm._v(_vm._s(_vm.balance1))])]),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('van-button',{staticClass:\"btn\",attrs:{\"loading\":_vm.balance1Loading,\"disabled\":!+_vm.balance1},on:{\"click\":_vm.processDonate1}},[_vm._v(_vm._s(_vm.donateDividends.initiate))])],1)]),_c('div',{staticClass:\"content\"},[_c('div',[_c('div',{staticClass:\"balance\"},[_vm._v(\"MAI\")]),_c('div',{staticClass:\"data\"},[_vm._v(_vm._s(_vm.$gbUtils.formatEightBalance(_vm.balanceMai)))])]),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('van-button',{staticClass:\"btn\",attrs:{\"loading\":_vm.balanceMaiLoading,\"disabled\":!+_vm.balanceMai},on:{\"click\":_vm.processDonateMai}},[_vm._v(_vm._s(_vm.donateDividends.initiate))])],1)]),_c('div',{staticClass:\"content\"},[_c('div',[_c('div',{staticClass:\"balance\"},[_vm._v(\"MCOIN\")]),_c('div',{staticClass:\"data\"},[_vm._v(_vm._s(_vm.$gbUtils.formatEightBalance(_vm.balanceMcoin)))])]),_c('div',{staticStyle:{\"margin-top\":\"35px\"}},[_c('van-button',{staticClass:\"btn\",attrs:{\"loading\":_vm.balanceMcoinLoading,\"disabled\":!+_vm.balanceMcoin},on:{\"click\":_vm.processDonateMcoin}},[_vm._v(_vm._s(_vm.donateDividends.initiate))])],1)]),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"list-item title\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.donateDividends.address))]),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.donateDividends.expected))])]),_c('div',{staticClass:\"line\"}),_vm._l((_vm.dividendAddress),function(item,index){return _c('div',{key:index,staticClass:\"list-item\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(item.slice(0, 4))+\"...\"+_vm._s(item.slice(-4)))]),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s((+_vm.balance + +_vm.balance1) / _vm.dividendAddress.length))])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Web3 from 'web3'\nimport store from '@/store'\nimport config from '@/config/app.config.js' // 引入配置文件\nimport contractAbi from '../abi/CrowdFunding.json' // 质押锁仓合约abi\nimport Web3Obj from '@/utils/web3.js'\n\nconst provider = config.provider\n\nlet web3\ntry {\n  web3 = web3 = new Web3(window.ethereum)\n} catch {\n  web3 = new Web3(new Web3.providers.HttpProvider(provider))\n}\nconst currentAccount = store.state.myAcount // 当前钱包账户\nconst contractInstance = new web3.eth.Contract(contractAbi, config.crowdfunding)\n\n/**\n * donateAmount\n */\nconst donateAmount = async () => {\n  try {\n    var amount = await contractInstance.methods\n      .donateAmount()\n      .call({ })\n    amount = Web3Obj.fromWei(amount)\n    return Web3Obj.successResult(amount)\n  } catch (error) {\n    return Web3Obj.failResult(error)\n  }\n}\n\n/**\n * 分发\n */\nconst processDonate = async () => {\n  await Web3Obj.connectWallet()\n  try {\n    const resp = await contractInstance.methods\n      .processDonate()\n      .send({ from: currentAccount || store.state.myAcount })\n    return Web3Obj.successResult(resp)\n  } catch (error) {\n    return Web3Obj.failResult(error)\n  }\n}\n\nexport default {\n  donateAmount,\n  processDonate\n}\n","import Web3 from 'web3'\nimport store from '@/store'\nimport config from '@/config/app.config.js' // 引入配置文件\nimport contractAbi from '../abi/DonateProcessor.json' // 质押锁仓合约abi\nimport Web3Obj from '@/utils/web3.js'\n\nconst provider = config.provider\n\nlet web3\ntry {\n  web3 = web3 = new Web3(window.ethereum)\n} catch {\n  web3 = new Web3(new Web3.providers.HttpProvider(provider))\n}\nconst currentAccount = store.state.myAcount // 当前钱包账户\nconst contractInstance = new web3.eth.Contract(contractAbi, config.donateProcessor)\n\n/**\n * donateAmount\n */\nconst donateAmount = async () => {\n  try {\n    var amount = await contractInstance.methods\n      .donateAmount()\n      .call({ })\n    amount = Web3Obj.fromWei(amount)\n    return Web3Obj.successResult(amount)\n  } catch (error) {\n    return Web3Obj.failResult(error)\n  }\n}\n\n/**\n * 获取donate地址\n */\nconst DONATE = async () => {\n  try {\n    const resp = await contractInstance.methods.DONATE().call({})\n    return Web3Obj.successResult(resp)\n  } catch (error) {\n    return Web3Obj.failResult(error)\n  }\n}\n/**\n * 分发\n */\nconst processDonate = async (address) => {\n  await Web3Obj.connectWallet()\n  try {\n    const resp = await contractInstance.methods\n      .processDonate(address)\n      .send({ from: currentAccount || store.state.myAcount })\n    return Web3Obj.successResult(resp)\n  } catch (error) {\n    return Web3Obj.failResult(error)\n  }\n}\n\nexport default {\n  donateAmount,\n  DONATE,\n  processDonate\n}\n","import config from '@/config/app.config.js' // 引入配置文件\nimport contractAbi from '../abi/MaiDistribute.json' // 分发合约\nimport web3Obj from '../utils/web3'\nimport store from '@/store'\n\nconst contractAddress = config.maiDistribute\nconst contractInstance = new web3Obj.web3.eth.Contract(contractAbi, contractAddress)\n\n/**\n * 獲取mai余额\n * @return amount\n */\nconst donateBalance = async () => {\n  try {\n    var balance = await contractInstance.methods\n      .donateBalance()\n      .call({})\n    balance = web3Obj.fromWei(balance)\n    return web3Obj.successResult(balance)\n  } catch (error) {\n    return web3Obj.failResult(error)\n  }\n}\n\n/**\n * 分发\n */\nconst processDonate = async () => {\n  try {\n    const resp = await contractInstance.methods\n      .processDonate()\n      .send({ from: store.state.myAcount })\n    return web3Obj.successResult(resp)\n  } catch (error) {\n    return web3Obj.failResult(error)\n  }\n}\n\nexport default {\n  donateBalance,\n  processDonate\n}\n","<template>\n  <div class=\"container\">\n    <div class=\"content\">\n      <!-- <div>\n        <div class=\"balance\">{{donateDividends.cumulative}}(LP)</div>\n        <div class=\"data\">{{balance}} LP</div>\n      </div> -->\n      <div>\n        <div class=\"balance\">Metabill LP</div>\n        <div class=\"data\">{{balance}}</div>\n      </div>\n      <div style=\"margin-top:35px\">\n          <van-button class=\"btn\" @click=\"processDonate\" :loading=\"balanceLoading\" :disabled=\"!+balance\">{{donateDividends.initiate}}</van-button>\n      </div>\n      <!-- <div class=\"item\">\n        <div class=\"left\">\n          <div class=\"title\">{{donateDividends.balance}}</div>\n          <div class=\"data\">{{balance}} LP</div>\n        </div>\n        <div class=\"right\">\n          <van-button class=\"btn\" @click=\"go('/activity')\">{{donateDividends.community}}</van-button>\n          <van-button class=\"btn\" @click=\"processDonate\" :loading=\"balanceLoading\">{{donateDividends.initiate}}</van-button>\n        </div>\n      </div> -->\n    </div>\n    <!-- 众筹lp池 -->\n    <div class=\"content\">\n      <div>\n        <div class=\"balance\">Metacrowd LP</div>\n        <div class=\"data\">{{balance1}}</div>\n      </div>\n      <div style=\"margin-top:35px\">\n          <van-button class=\"btn\"  @click=\"processDonate1\" :loading=\"balance1Loading\" :disabled=\"!+balance1\">{{donateDividends.initiate}}</van-button>\n      </div>\n    </div>\n    <!-- mai分发池 -->\n    <div class=\"content\">\n      <div>\n        <div class=\"balance\">MAI</div>\n        <div class=\"data\">{{$gbUtils.formatEightBalance(balanceMai)}}</div>\n      </div>\n      <div style=\"margin-top:35px\">\n          <van-button class=\"btn\"  @click=\"processDonateMai\" :loading=\"balanceMaiLoading\" :disabled=\"!+balanceMai\">{{donateDividends.initiate}}</van-button>\n      </div>\n    </div>\n     <!-- mcoin分发池 -->\n     <div class=\"content\">\n      <div>\n        <div class=\"balance\">MCOIN</div>\n        <div class=\"data\">{{$gbUtils.formatEightBalance(balanceMcoin)}}</div>\n      </div>\n      <div style=\"margin-top:35px\">\n          <van-button class=\"btn\"  @click=\"processDonateMcoin\" :loading=\"balanceMcoinLoading\" :disabled=\"!+balanceMcoin\">{{donateDividends.initiate}}</van-button>\n      </div>\n    </div>\n    <div class=\"list\">\n      <div class=\"list-item title\">\n        <div class=\"left\">{{donateDividends.address}}</div>\n        <div class=\"right\">{{donateDividends.expected}}</div>\n      </div>\n      <div class=\"line\"></div>\n      <div class=\"list-item\" v-for=\"(item, index) in dividendAddress\" :key=\"index\">\n        <div class=\"left\">{{ item.slice(0, 4) }}...{{ item.slice(-4) }}</div>\n        <div class=\"right\">{{(+balance + +balance1) / dividendAddress.length}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport lighting from '@/contracts/lighting.js'\nimport donation from '@/utils/donation.js'\nimport contractCrowd from '../contracts/contractCrowd'\nimport contractMaiDis from '../contracts/contractMaiDis'\nimport contractDonateProcessor from '../contracts/contractDonateProcessor'\nimport contractToken from '../contracts/contractToken'\nimport config from '@/config/app.config.js' // 引入配置文件\n\nexport default {\n  name: 'DonateDividends',\n  data () {\n    return {\n      link: 'http://uqtpnquhg.fo/rpj',\n      balance: 0,\n      dividendAddress: [],\n      balanceLoading: false,\n      balance1: 0,\n      balance1Loading: false,\n      balanceMai: 0,\n      balanceMaiLoading: false,\n      mcoinDonateAddress: '',\n      mocinSymbol: '-',\n      balanceMcoin: 0,\n      balanceMcoinLoading: false\n    }\n  },\n  mounted () {\n    this.init()\n  },\n  computed: {\n    donateDividends () {\n      return this.$t('donateDividends')\n    },\n    ...mapState(['myAcount'])\n  },\n  methods: {\n    async init () {\n      this.getDonateBalance()\n      this.getCrowdBalance()\n      this.queryDonatedList()\n      this.getMaiBalance()\n      // this.getMcoinDonateAddress()\n      this.getMcoinBalance()\n    },\n    // 路由跳转\n    go (url) {\n      this.$gbUtils.handleToPage(url)\n    },\n    // 获取账户\n    async getDonateBalance () {\n      const resp = await lighting.donateBalance()\n      if (resp.success) {\n        this.balance = this.$gbUtils.formatTwoBalance(this.$web3.fromWei(resp.result.toString())) || 0\n      }\n    },\n    // 获取分红地址\n    async queryDonatedList () {\n      const resp = await donation.queryDonatedList()\n      if (resp.success) {\n        this.dividendAddress = resp.result\n      }\n    },\n    // 发起分红\n    async processDonate () {\n      this.balanceLoading = true\n      const resp = await lighting.processDonate()\n      this.balanceLoading = false\n      if (!resp.success) {\n        return this.$toast('fail')\n      }\n      this.balance = 0\n      this.$toast('success')\n    },\n    // 获取crowd余额\n    async getCrowdBalance () {\n      const resp = await contractCrowd.donateAmount()\n      if (!resp.success) return\n      this.balance1 = resp.result\n    },\n    // 发起分红\n    async processDonate1 () {\n      this.balance1Loading = true\n      const resp = await contractCrowd.processDonate()\n      this.balance1Loading = false\n      if (!resp.success) {\n        return this.$toast('fail')\n      }\n      this.balance1 = 0\n      this.$toast('success')\n    },\n    // 获取mai余额\n    async getMaiBalance () {\n      const resp = await contractMaiDis.donateBalance()\n      if (!resp.success) return\n      this.balanceMai = resp.result\n    },\n    // mai发起分红\n    async processDonateMai () {\n      this.balanceMaiLoading = true\n      const resp = await contractMaiDis.processDonate()\n      this.balanceMaiLoading = false\n\n      if (!resp.success) {\n        return this.$toast('fail')\n      }\n      this.balanceMai = 0\n      this.$toast('success')\n    },\n    // 获取mcoin捐赠合约地址\n    async getMcoinDonateAddress () {\n      const resp = await contractDonateProcessor.DONATE()\n      if (!resp.success) return\n      console.log(resp, 'getMcoinDonateAddress')\n      this.mcoinDonateAddress = resp.result\n    },\n    // 获取mcion余额\n    async getMcoinBalance () {\n      const resp = await contractToken.balanceOf(config.MCOIN, config.donateProcessor)\n      this.balanceMcoin = resp.result || 0\n    },\n    // mai发起分红\n    async processDonateMcoin () {\n      this.balanceMcoinLoading = true\n      const resp = await contractDonateProcessor.processDonate(config.MCOIN)\n      this.balanceMcoinLoading = false\n      if (!resp.success) {\n        return this.$toast('fail')\n      }\n      this.balanceMcoin = 0\n      this.$toast('success')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 30px 25px;\n  background: #242424;\n  min-height: 100vh;\n  background: linear-gradient(0deg, #A439CF 0%, #F44F96 50%, #FF776F 100%);\n\n  .content {\n    padding: 35px 30px;\n    margin-bottom: 24px;\n    background: #171917;\n    border-radius: 25px;\n    .balance{\n      font-size: 11px;\n      font-weight: 500;\n      color: #939394;\n      margin-bottom: 13px;\n    }\n    .data{\n      font-size: 23px;\n      font-weight: bold;\n      color: #FFA242;\n    }\n    .btn{\n      width: 165px;\n      height: 40px;\n      background: linear-gradient(90deg, #622AFF 0%, #5E12E7 99%);\n      border-radius: 20px;\n      text-align: center;\n      font-size: 14px;\n      font-family: Source Han Sans CN;\n      font-weight: 400;\n      color: #FFFFFF;\n    }\n  }\n  .list {\n    color: #FFFFFF;\n    padding: 20px 30px;\n    background: #171917;\n    border-radius: 25px;\n    padding-bottom: 20px;\n    .line{\n      width: 100%;\n      height: 1px;\n      background: #FFFFFF;\n      opacity: 0.3;\n      margin-bottom: 20px;\n    }\n    .list-item {\n      display: flex;\n      justify-content: space-between;\n      font-size: 14px;\n      line-height: 20px;\n      margin-bottom: 24px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateDividends.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateDividends.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DonateDividends.vue?vue&type=template&id=6044c604&scoped=true&\"\nimport script from \"./DonateDividends.vue?vue&type=script&lang=js&\"\nexport * from \"./DonateDividends.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DonateDividends.vue?vue&type=style&index=0&id=6044c604&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6044c604\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}