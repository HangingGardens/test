import{_ as v,d as g,E as _,b as r,e as l,g as n,t as d,ah as c,G as u,B,a as $,ap as L,o as N,L as h,F as C,s as E,H as q,ac as I,k as U}from"./index-968154d2.js";import{B as V}from"./BackIcon-73e4a0f8.js";import{q as H,a as O,b as T}from"./address-2bf63fad.js";import{u as F}from"./useSelectAddress-cd186f38.js";const M={class:"text-left"},P={class:"flex items-center"},j={class:"text-lg"},G={key:0,class:"text-xs bg-primary rounded-full text-white px-1 py-0.5 ml-1"},J={class:"mt-1"},R={class:"flex-center"},z=g({props:{address:{type:null,required:!0}},emits:["handleDel","handleEdit","handleSetDefault","select"],setup(s,{emit:a}){return(i,t)=>{const o=_("van-icon");return r(),l("div",{class:"bg-white py-2.5 pl-3 pr-5 rounded-lg flex justify-between items-center",onClick:t[3]||(t[3]=c(()=>a("select",s.address),["stop"]))},[n("div",M,[n("div",P,[n("div",j,d(s.address.userName)+"\xA0"+d(s.address.telNumber),1),s.address.isDefault===1?(r(),l("div",G,d(i.$t("common.default")),1)):(r(),l("div",{key:1,type:"primary",class:"text-xs border border-solid border-primary rounded-full text-primary px-1 py-0.5 ml-1",onClick:t[0]||(t[0]=c(()=>a("handleSetDefault",s.address),["stop"]))},d(i.$t("common.setDefault")),1))]),n("div",J,d(`${s.address.provinceName}${s.address.cityName}${s.address.countyName}${s.address.detailInfo}`),1)]),n("div",R,[u(o,{name:"edit",class:"text-xl",onClick:t[1]||(t[1]=c(()=>a("handleEdit",s.address),["stop"]))}),u(o,{name:"delete",class:"text-xl ml-3 text-red-400",onClick:t[2]||(t[2]=c(()=>a("handleDel",s.address),["stop"]))})])])}}}),K=v(z,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/address/components/AddressBox.vue"]]);const Q={class:"p-2.5 relative text-center"},W={class:"flex-start"},X=g({setup(s){const a=B(),{setAddress:i}=F(),{loadingToggle:t}=I(),o=$([]),f=L(a),k=e=>{f.indexOf("submitOrder")>=0&&(i(e),a.push(f))},m=async()=>{const e=await H();!e.success||(o.value=e.data)},p=e=>{a.push(e)},A=()=>{sessionStorage.removeItem("editAddress"),p("/editAddress")},w=e=>{sessionStorage.setItem("editAddress",JSON.stringify(e)),p("/editAddress")},b=async e=>{!(await O(e.id)).success||m()},D=async e=>{!(await T(e.id)).success||m()};return N(async()=>{t(!0),await m(),t(!1)}),(e,x)=>{const S=_("VanButton");return r(),l("div",Q,[n("header",W,[u(V),h(" "+d(e.$t("common.address")),1)]),(r(!0),l(C,null,E(o.value,y=>(r(),U(K,{address:y,key:y.id,class:"mt-2",onHandleDel:b,onHandleEdit:w,onHandleSetDefault:D,onSelect:k},null,8,["address"]))),128)),u(S,{class:"px-20 btn-orange btn-shadow mt-20",onClick:A},{default:q(()=>[h(d(e.$t("address.addAddress")),1)]),_:1})])}}}),te=v(X,[["__scopeId","data-v-48d5819b"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/address/UserAddressList.vue"]]);export{te as default};
