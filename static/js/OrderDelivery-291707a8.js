import{_ as y,d as h,E as f,b as d,e as l,G as v,g as e,t as s,h as i,u as b,C as k,m as N,k as _,H as V,L as D,j as $,ae as C,a as I,o as B,F as A,s as F}from"./index-7bcb6f7b.js";import{B as T}from"./BackIcon-d6df8400.js";import{f as U,a as q}from"./order-1ae60e86.js";import{_ as G}from"./mcoin-logo-1-a438d147.js";import{u as L}from"./useOrderStatus-6af264c6.js";const S={class:"flex-center-bw mt-3 gap-2"},j={class:"h-20 flex-1 flex flex-col justify-between"},M={class:"font-semibold flex-center-bw"},O={class:"flex items-baseline gap-1 text-primary"},E=e("img",{src:G,class:"w-3 h-3",alt:""},null,-1),H=e("span",{class:"text-xs"},"Mcoin",-1),R={class:"text-primary font-semibold flex-center-bw"},z={class:"opacity-60 text-default"},J={class:"flex justify-end opacity-60"},K=h({props:{order:{type:null,required:!0},goods:{type:null,required:!0}},setup(t){const u=L();return(c,o)=>{const n=f("VanImage");return d(),l("div",S,[v(n,{src:t.goods.icons.split(",")[0],class:"h-20 w-20 rounded-xl overflow-hidden",fit:"cover",alt:""},null,8,["src"]),e("div",j,[e("div",null,[e("div",M,[e("div",null,s(t.goods.goodsName),1),e("div",O,[E,e("span",null,s(t.goods.price),1),H])]),e("div",R,[e("div",null,s(i(u)[t.order.status+""]),1),e("div",z,"x"+s(t.goods.number),1)])]),e("div",J,s(c.$t("order.deliveryTime"))+s(t.order.expressTime||"-"),1)])])}}}),P=y(K,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/DeliveryGoodsItem.vue"]]);const Q={class:"py-4 px-3 bg-white rounded-xl mt-3"},W={class:"flex-center-bw"},X={class:"opacity-60"},Y={class:"flex-center-bw mt-3"},Z={class:"opacity-60"},ee={key:1,class:"text-right"},se={class:"flex-center-bw mt-3"},te={class:"opacity-60"},oe={key:1,class:"text-right"},re={class:"mt-3"},ae={class:"opacity-60"},de={class:"bg-[#f2f0ef] rounded-md py-2 px-2 mt-2"},le={key:0,class:"flex-center mt-5"},ne=h({props:{order:{type:null,required:!0}},setup(t){const{order:u}=t,{reloadStore:c}=b(),[o,n]=k(!1),a=N({expressCompany:"",expressNo:"",orderId:u.id}),x=async()=>{n(!0),(await U(a)).success&&c.reload(),n(!1)};return(r,m)=>{const g=f("VanField"),w=f("VanButton");return d(),l("div",null,[e("div",Q,[e("div",W,[e("div",X,s(r.$t("order.deliveryType")),1),e("div",null,s(r.$t("order.deliveryMyself")),1)]),e("div",Y,[e("div",Z,s(r.$t("order.deliveryId")),1),t.order.status===1?(d(),_(g,{key:0,class:"flex-1","input-align":"right",modelValue:i(a).expressNo,"onUpdate:modelValue":m[0]||(m[0]=p=>i(a).expressNo=p),placeholder:r.$t("shop.pleaseInput")},null,8,["modelValue","placeholder"])):(d(),l("div",ee,s(t.order.expressNo),1))]),e("div",se,[e("div",te,s(r.$t("order.deliveryCompany")),1),t.order.status===1?(d(),_(g,{key:0,class:"flex-1","input-align":"right",modelValue:i(a).expressCompany,"onUpdate:modelValue":m[1]||(m[1]=p=>i(a).expressCompany=p),placeholder:r.$t("shop.pleaseInput")},null,8,["modelValue","placeholder"])):(d(),l("div",oe,s(t.order.expressCompany),1))]),e("div",re,[e("div",ae,s(r.$t("order.refundAddress")),1),e("div",de,[e("div",null,s(t.order.stores.storeName),1),e("div",null,s(t.order.stores.contact)+" "+s(t.order.stores.location)+" "+s(t.order.stores.contactAddress),1)])])]),t.order.status===1?(d(),l("div",le,[v(w,{class:"mb-[50px] inline-block btn-orange btn-shadow w-[150px] h-[40px] text-white",loading:i(o),onClick:x},{default:V(()=>[D(s(r.$t("order.deliver")),1)]),_:1},8,["loading"])])):$("v-if",!0)])}}}),ie=y(ne,[["__scopeId","data-v-4597763f"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/DeliveryForm.vue"]]),ce={key:0,class:"px-3 bg-[#f2f0ef]"},ue={class:"flex-start gap-2 mt-2"},me={class:"py-4 px-3 bg-white rounded-xl mt-3"},ve={class:"flex-center-bw"},pe={class:"opacity-60"},fe={class:"font-semibold"},_e={class:"text-black text-base font-semibold mt-4"},ye={class:"opacity-60 mt-1"},he=h({setup(t){const c=C().query.id,o=I(null),n=async()=>{const a=await q({id:c});o.value=a.data};return B(async()=>{await n()}),(a,x)=>o.value?(d(),l("div",ce,[e("div",ue,[v(T),e("div",null,s(a.$t("order.deliver")),1)]),e("div",me,[e("div",ve,[e("div",pe,s(a.$t("order.orderNumber")),1),e("div",fe,s(o.value.id),1)]),(d(!0),l(A,null,F(o.value.orderGoods,r=>(d(),_(P,{key:r.goodsName,goods:r,order:o.value},null,8,["goods","order"]))),128)),e("div",null,[e("div",_e,s(o.value.userAddress.provinceName)+s(o.value.userAddress.cityName)+" "+s(o.value.userAddress.countyName)+s(o.value.userAddress.detailInfo),1),e("div",ye,s(o.value.userAddress.userName)+s(o.value.userAddress.telNumber),1)])]),v(ie,{order:o.value},null,8,["order"])])):$("v-if",!0)}}),ke=y(he,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/OrderDelivery.vue"]]);export{ke as default};
