import{_ as g,d as B,b as n,e as c,g as e,t as s,a as R,B as T,an as D,ae as V,u as S,C as j,o as L,E as O,G as u,k as h,j as d,H as v,h as i,i as w,am as x,R as q,L as b}from"./index-7bcb6f7b.js";import{B as E}from"./BackIcon-d6df8400.js";import{B as G}from"./BuyerDeliveredItem-2d03c88d.js";import{a as U,b as H,n as M}from"./order-1ae60e86.js";import"./useOrderStatus-6af264c6.js";const P={class:"py-4 px-3 bg-white rounded-xl mt-3"},z=B({props:{order:{type:null,required:!0}},setup(o){return(t,m)=>(n(),c("div",P,[e("div",null,s(o.order.userAddress.userName),1),e("div",null,s(o.order.userAddress.telNumber)+" "+s(o.order.userAddress.provinceName)+s(o.order.userAddress.cityName)+s(o.order.userAddress.countyName)+s(o.order.userAddress.detailInfo),1)]))}}),F=g(z,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/BuyerAddressBox.vue"]]);const J={key:0,class:"px-3 bg-[#f2f0ef]"},K={class:"flex-start gap-2 mt-2"},Q={class:"flex-center-bw mt-4"},W={class:"opacity-60"},X={class:"flex-center-bw mt-4"},Y={class:"opacity-60"},Z={class:"flex-center-bw mt-4"},ee={class:"opacity-60"},se={class:"flex-center-bw mt-4"},te={class:"opacity-60"},re={class:"flex-center-bw mt-4"},oe={class:"opacity-60"},ae={key:0,class:"flex-center-bw mt-4"},de={class:"opacity-60"},ie={key:1,class:"flex-center-bw mt-4"},ne={class:"opacity-60"},le={class:"flex-center"},ce={class:"flex justify-between mt-4 gap-2"},ue={class:"opacity-60 whitespace-nowrap"},ve={class:"flex justify-end items-center gap-5 mt-5"},me=B({setup(o){const t=R(null),m=T(),{confirm:k}=D(),$=V(),{reloadStore:C}=S(),[p,f]=j(!1),y=$.query.id,N=async()=>{f(!0);try{const a=(await H({orderIds:y})).data.ordIds,l=await k(a);if(!l.success||!(await M({ordIds:a,hash:l.result.hash})).success)return;C.reload()}finally{f(!1)}},A=r=>{m.push(r)},I=async()=>{const r=await U({id:y});t.value=r.data};return L(async()=>{await I()}),(r,a)=>{const l=O("VanButton");return t.value?(n(),c("div",J,[e("div",K,[u(E),e("div",null,s(r.$t("order.buyerPaied")),1)]),t.value.userAddress?(n(),h(F,{key:0,order:t.value},null,8,["order"])):d("v-if",!0),u(G,{order:t.value},{default:v(()=>[e("div",Q,[e("div",W,s(r.$t("order.hash")),1),e("div",null,s(i(w)(t.value.hash,"***",9,5)||"-"),1)]),e("div",X,[e("div",Y,s(r.$t("order.payAddress")),1),e("div",null,s(i(w)(t.value.stores.merchant,"...",5,5)),1)]),e("div",Z,[e("div",ee,s(r.$t("order.payTime")),1),e("div",null,s(i(x)(t.value.createTime)),1)]),e("div",se,[e("div",te,s(r.$t("order.successTime")),1),e("div",null,s(i(x)(t.value.createTime)),1)]),e("div",re,[e("div",oe,s(r.$t("order.orderNumber")),1),e("div",null,s(t.value.id),1)]),t.value.expressCompany?(n(),c("div",ae,[e("div",de,s(r.$t("order.deliveryCompany")),1),e("div",null,s(t.value.expressCompany),1)])):d("v-if",!0),t.value.expressNo?(n(),c("div",ie,[e("div",ne,s(r.$t("order.deliveryNum")),1),e("div",le,[e("div",null,s(t.value.expressNo),1),e("div",{class:"rounded py-1 pl-2 text-oriange1",onClick:a[0]||(a[0]=_=>i(q)(t.value.expressNo))},s(r.$t("common.copy")),1)])])):d("v-if",!0),e("div",ce,[e("div",ue,s(r.$t("order.orderRemark")),1),e("div",null,s(t.value.postscript||"-"),1)]),e("div",ve,[d("v-if",!0),t.value.status===2?(n(),h(l,{key:1,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:N,loading:i(p)},{default:v(()=>[b(s(r.$t("order.confirmGeted")),1)]),_:1},8,["loading"])):d("v-if",!0),d(' v-if="order.status === 1" '),u(l,{round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:a[1]||(a[1]=_=>A(`/refundService?id=${t.value.id}`)),loading:i(p)},{default:v(()=>[b(s(r.$t("order.refund")),1)]),_:1},8,["loading"])])]),_:1},8,["order"])])):d("v-if",!0)}}}),we=g(me,[["__scopeId","data-v-48170c2e"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/BuyerOrderDetail.vue"]]);export{we as default};
