import{_ as w,d as x,b as i,e as c,g as e,t as s,a as C,an as A,ae as I,u as D,C as R,o as T,E as V,G as p,k as f,j as a,H as y,h as d,i as _,am as h,R as j,L}from"./index-dd2b66f1.js";import{B as O}from"./BackIcon-54c2e114.js";import{B as S}from"./BuyerDeliveredItem-c43b7ca2.js";import{a as q,b as E,n as G}from"./order-32771890.js";import"./useOrderStatus-8f1bd90c.js";const U={class:"py-4 px-3 bg-white rounded-xl mt-3"},H=x({props:{order:{type:null,required:!0}},setup(o){return(t,u)=>(i(),c("div",U,[e("div",null,s(o.order.userAddress.userName),1),e("div",null,s(o.order.userAddress.telNumber)+" "+s(o.order.userAddress.provinceName)+s(o.order.userAddress.cityName)+s(o.order.userAddress.countyName)+s(o.order.userAddress.detailInfo),1)]))}}),M=w(H,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/BuyerAddressBox.vue"]]);const P={key:0,class:"px-3 bg-[#f2f0ef]"},z={class:"flex-start gap-2 mt-2"},F={class:"flex-center-bw mt-4"},J={class:"opacity-60"},K={class:"flex-center-bw mt-4"},Q={class:"opacity-60"},W={class:"flex-center-bw mt-4"},X={class:"opacity-60"},Y={class:"flex-center-bw mt-4"},Z={class:"opacity-60"},ee={class:"flex-center-bw mt-4"},se={class:"opacity-60"},te={key:0,class:"flex-center-bw mt-4"},re={class:"opacity-60"},oe={key:1,class:"flex-center-bw mt-4"},ae={class:"opacity-60"},de={class:"flex-center"},ie={class:"flex justify-between mt-4 gap-2"},ne={class:"opacity-60 whitespace-nowrap"},le={class:"flex justify-end items-center gap-5 mt-5"},ce=x({setup(o){const t=C(null),{confirm:u}=A(),b=I(),{reloadStore:g}=D(),[B,v]=R(!1),m=b.query.id,k=async()=>{v(!0);try{const n=(await E({orderIds:m})).data.ordIds,l=await u(n);if(!l.success||!(await G({ordIds:n,hash:l.result.hash})).success)return;g.reload()}finally{v(!1)}},N=async()=>{const r=await q({id:m});t.value=r.data};return T(async()=>{await N()}),(r,n)=>{const l=V("VanButton");return t.value?(i(),c("div",P,[e("div",z,[p(O),e("div",null,s(r.$t("order.buyerPaied")),1)]),t.value.userAddress?(i(),f(M,{key:0,order:t.value},null,8,["order"])):a("v-if",!0),p(S,{order:t.value},{default:y(()=>[e("div",F,[e("div",J,s(r.$t("order.hash")),1),e("div",null,s(d(_)(t.value.hash,"***",9,5)||"-"),1)]),e("div",K,[e("div",Q,s(r.$t("order.payAddress")),1),e("div",null,s(d(_)(t.value.stores.merchant,"...",5,5)),1)]),e("div",W,[e("div",X,s(r.$t("order.payTime")),1),e("div",null,s(d(h)(t.value.createTime)),1)]),e("div",Y,[e("div",Z,s(r.$t("order.successTime")),1),e("div",null,s(d(h)(t.value.createTime)),1)]),e("div",ee,[e("div",se,s(r.$t("order.orderNumber")),1),e("div",null,s(t.value.id),1)]),t.value.expressCompany?(i(),c("div",te,[e("div",re,s(r.$t("order.deliveryCompany")),1),e("div",null,s(t.value.expressCompany),1)])):a("v-if",!0),t.value.expressNo?(i(),c("div",oe,[e("div",ae,s(r.$t("order.deliveryNum")),1),e("div",de,[e("div",null,s(t.value.expressNo),1),e("div",{class:"rounded py-1 pl-2 text-oriange1",onClick:n[0]||(n[0]=$=>d(j)(t.value.expressNo))},s(r.$t("common.copy")),1)])])):a("v-if",!0),e("div",ie,[e("div",ne,s(r.$t("order.orderRemark")),1),e("div",null,s(t.value.postscript||"-"),1)]),e("div",le,[a("v-if",!0),t.value.status===2?(i(),f(l,{key:1,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:k,loading:d(B)},{default:y(()=>[L(s(r.$t("order.confirmGeted")),1)]),_:1},8,["loading"])):a("v-if",!0)])]),_:1},8,["order"])])):a("v-if",!0)}}}),ye=w(ce,[["__scopeId","data-v-48170c2e"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/BuyerOrderDetail.vue"]]);export{ye as default};
