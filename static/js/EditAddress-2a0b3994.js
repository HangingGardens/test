import{_,d as y,J as N,A as h,B as g,C as D,a as n,o as I,E as b,e as A,g as L,G as c,L as w,t as E,h as S,b as k}from"./index-e87e19e8.js";import{B}from"./BackIcon-e7d88a00.js";import{c as C}from"./address-4e447069.js";const x={class:"relative p-2.5 text-center"},$={class:"flex-start mb-1"},q=y({setup(V){const{currentLocale:d,changeLocale:J}=N(),{messages:i}=h(),u=i.value[d.value].areaList,f=g(),[v,o]=D(!1),l=n({name:null,tel:null,province:null,city:null,county:null,country:"",isDefault:!1,addressDetail:null,areaCode:null}),s=n({id:null,address:null,userName:null,telNumber:null,provinceName:null,cityName:null,countyName:null,detailInfo:null,isDefault:0}),m=()=>{const e=sessionStorage.getItem("editAddress")||"";if(!e)return;const a=JSON.parse(e);s.value=a,l.value.name=a.userName,l.value.tel=a.telNumber,l.value.province=a.provinceName,l.value.city=a.cityName,l.value.county=a.countyName,l.value.addressDetail=a.detailInfo,l.value.isDefault=!!(a.isDefault&&a.isDefault>=1),Object.entries(u.county_list).forEach(t=>{t[1]==a.countyName&&(l.value.areaCode=t[0],t[1])})},p=async e=>{if(v.value)return;s.value.isDefault=e.isDefault?1:0,s.value.userName=e.name,s.value.telNumber=e.tel,s.value.provinceName=e.province,s.value.cityName=e.city,s.value.countyName=e.county,s.value.detailInfo=e.addressDetail,o(!0);const a=await C(s.value);o(!1),a.success&&f.back()};return I(()=>{m()}),(e,a)=>{const r=b("van-address-edit");return k(),A("div",x,[L("header",$,[c(B),w(" "+E(e.$t("common.address")),1)]),c(r,{"area-list":S(u),"show-set-default":(s.value&&s.value.isDefault===1,!1),"show-search-result":"","address-info":l.value,"area-columns-placeholder":[e.$t("shop.pleaseSelect"),e.$t("shop.pleaseSelect"),e.$t("shop.pleaseSelect")],onSave:p},null,8,["area-list","show-set-default","address-info","area-columns-placeholder"])])}}}),j=_(q,[["__scopeId","data-v-b64d7284"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/address/EditAddress.vue"]]);export{j as default};
