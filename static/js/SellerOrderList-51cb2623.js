import{_ as S,d as T,B as M,E as b,b as a,e as d,g as t,t as s,h as u,i as C,j as g,am as z,F as I,s as V,k as w,ah as B,R as E,H as k,L as F,p as H,l as J,A as K,a as l,m as P,D as Q,ae as W,o as X,G as A}from"./index-85d13ebb.js";import{B as Y}from"./BackIcon-6f075633.js";import{_ as Z}from"./avatarRing-8eae2442.js";import{G as ee}from"./GoodsItem-adf0da6c.js";import{u as te}from"./useOrderStatus-5db6f190.js";import{o as se}from"./order-161aa719.js";import"./mcoin-logo-601d180b.js";const ae=""+new URL("../images/copy-369bcf49.svg",import.meta.url).href;const D=e=>(H("data-v-a8a0cc40"),e=e(),J(),e),re={class:"flex-center-bw gap-2"},oe=D(()=>t("div",{class:"w-8 h-8"},[t("img",{src:Z,class:"w-full h-full rounded-md",alt:"",fit:"cover"})],-1)),de={class:"flex-1 text-default h-8 flex flex-col justify-center"},ie={class:"text-sm flex-center-bw font-semibold"},ne={key:0},le={class:"text-primary"},ue={class:"text-xs opacity-60"},ce={class:"text-default text-sm"},ve={class:"flex justify-between gap-2"},me={class:"whitespace-nowrap"},fe={key:0,class:"opacity-60"},he={key:1,class:"opacity-60 flex-1"},pe={class:"flex-center-bw mt-2"},ye={class:"opacity-60"},_e=D(()=>t("img",{src:ae,class:"w-4 h-4",alt:""},null,-1)),xe={key:0,class:"text-base text-black font-semibold mt-2"},ge={key:1,class:"text-sm text-default opacity-60 mt-1"},be={class:"flex justify-end mt-3"},ke=T({props:{order:{type:null,required:!0}},setup(e){const i=M(),c=te();return(v,n)=>{const h=b("VanButton");return a(),d("div",{class:"rounded-xl px-5 py-7 bg-white mt-3",onClick:n[2]||(n[2]=r=>u(i).push(`/sellerOrderDetail?id=${e.order.id}`))},[t("div",re,[oe,t("div",de,[t("div",ie,[e.order.userAddress&&e.order.userAddress.address?(a(),d("div",ne,s(u(C)(e.order.userAddress.address,"...",5,5)),1)):g("v-if",!0),t("div",le,s(u(c)[e.order.status+""]),1)]),t("div",ue,s(u(z)(e.order.createTime))+" "+s(v.$t("order.buied")),1)])]),(a(!0),d(I,null,V(e.order.orderGoods,r=>(a(),w(ee,{key:r.goodsName,goods:r},null,8,["goods"]))),128)),t("div",ce,[t("div",ve,[t("div",me,s(v.$t("order.remark")),1),e.order.postscript?(a(),d("div",he,s(e.order.postscript),1)):(a(),d("div",fe,s(v.$t("order.noRemark")),1))]),t("div",pe,[t("div",null,s(v.$t("order.hash")),1),t("div",{class:"flex-start gap-1",onClick:n[0]||(n[0]=B(r=>u(E)(e.order.hash),["stop"]))},[t("span",ye,s(u(C)(e.order.hash,"...",5,5)),1),_e])])]),e.order.userAddress?(a(),d("div",xe,s(e.order.userAddress.provinceName)+s(e.order.userAddress.cityName)+s(e.order.userAddress.countyName)+s(e.order.userAddress.detailInfo),1)):g("v-if",!0),e.order.userAddress?(a(),d("div",ge,s(e.order.userAddress.userName)+" "+s(e.order.userAddress.telNumber),1)):g("v-if",!0),t("div",be,[e.order.status===1?(a(),w(h,{key:0,class:"btn-orange h-[37px] px-9 text-white text-sm font-semibold",onClick:n[1]||(n[1]=B(r=>u(i).push(`/orderDelivery?id=${e.order.id}`),["stop"]))},{default:k(()=>[F(s(v.$t("order.deliver")),1)]),_:1})):g("v-if",!0)])])}}}),we=S(ke,[["__scopeId","data-v-a8a0cc40"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/DeliveredItem.vue"]]);const $e={class:"px-3 bg-[#f2f0ef]"},Le={class:"flex-start gap-2 mt-2"},Ae=T({setup(e){const{t:i}=K(),c=l(0),v=P({tabList:[{id:1,name:i("order.wait")},{id:2,name:i("order.already")},{id:-1,name:i("order.all")}]}),n=Q(()=>[{id:1,name:i("order.wait")},{id:2,name:i("order.already")},{id:-1,name:i("order.all")}]),h=W();h.query.active&&(c.value=Number(h.query.active));const r=l([]),m=l(!1),f=l(!1),p=l(0),R=l(10),N=l(0),$=async()=>{m.value=!0,p.value+=1,await O(),m.value=!1},L=l([]),O=async()=>{const o=await se({page:p.value,size:R.value,status:v.tabList[c.value].id,type:1});if(m.value=!1,!o.success){f.value=!0;return}if(!o.data||!o.total){f.value=!0;return}N.value=o.total,L.value=o.data,r.value=p.value===1?L.value:r.value.concat(L.value),r.value.length>=N.value&&(f.value=!0)},U=o=>{c.value=o,p.value=0,f.value=!1,r.value=[],$()};return X(()=>{$()}),(o,y)=>{const j=b("VanList"),G=b("VanTab"),q=b("VanTabs");return a(),d("div",$e,[t("div",Le,[A(Y),t("div",null,s(o.$t("order.order")),1)]),A(q,{active:c.value,"onUpdate:active":y[1]||(y[1]=_=>c.value=_),onChange:U,background:"#f2f0ef",sticky:""},{default:k(()=>[(a(!0),d(I,null,V(u(n),_=>(a(),w(G,{title:_.name,key:_.id},{default:k(()=>[A(j,{loading:m.value,"onUpdate:loading":y[0]||(y[0]=x=>m.value=x),finished:f.value,"finished-text":o.$t("common.noMore"),"loading-text":o.$t("common.loading"),onLoad:$},{default:k(()=>[(a(!0),d(I,null,V(r.value,x=>(a(),w(we,{key:x.id,order:x},null,8,["order"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])])}}}),De=S(Ae,[["__scopeId","data-v-32f0011b"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/SellerOrderList.vue"]]);export{De as default};
