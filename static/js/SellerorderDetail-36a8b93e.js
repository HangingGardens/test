import{_ as p,d as _,an as I,ae as x,u as N,C,E as S,b as o,e as d,g as e,t as s,h as c,k as b,j as u,T as R,D as g,R as k,i as w,am as B,B as D,a as T,o as U,G as $,F as L,s as q}from"./index-e87e19e8.js";import{B as O}from"./BackIcon-e7d88a00.js";import{b as j,n as G,a as V}from"./order-2192f42d.js";import{G as E}from"./GoodsItem-4f041d05.js";import"./mcoin-logo-601d180b.js";const F=""+new URL("../images/goods-info-2bacdd67.svg",import.meta.url).href,H=""+new URL("../images/order-167ccb3d.svg",import.meta.url).href,z={class:"bg-white rounded-xl mt-2 text-sm text-default px-5 py-4 font-Sans"},M={class:"flex-start gap-1"},J=e("img",{src:H,class:"w-4 h-4",alt:""},null,-1),K={class:"font-semibold"},P={class:"flex-center-bw mt-2"},Q={class:"opacity-60"},W={class:"font-semibold"},X={key:0},Y={key:1},Z={key:2},ee={key:3},se={key:4},te={key:0,class:"flex-center-bw mt-2"},re={class:"opacity-60"},oe={key:0},de=_({props:{status:{type:Number,required:!0}},setup(t){const{cancel:r}=I(),i=x(),{reloadStore:f}=N(),[a,m]=C(!1),h=i.query.id,l=async()=>{m(!0);try{const v=(await j({orderIds:h})).data.ordIds,y=await r(v);if(!y.success||!(await G({ordIds:v,hash:y.result.transactionHash})).success)return;f.reload()}catch(n){R(n.message||n)}finally{m(!1)}};return(n,v)=>{const y=S("van-loading");return o(),d("div",z,[e("div",M,[J,e("div",K,s(n.$t("order.orderStatus")),1)]),e("div",P,[e("div",Q,s(n.$t("order.currentStatus")),1),e("div",W,[t.status===1?(o(),d("span",X,s(n.$t("order.status1")),1)):t.status===2?(o(),d("span",Y,s(n.$t("order.status2")),1)):t.status===4?(o(),d("span",Z,s(n.$t("order.status3")),1)):t.status===5?(o(),d("span",ee,s(n.$t("order.status5")),1)):(o(),d("span",se,s(n.$t("order.status4")),1))])]),t.status<4?(o(),d("div",te,[e("div",re,s(n.$t("order.degenerate")),1),e("div",{class:"font-semibold text-primary",onClick:l},[c(a)?(o(),b(y,{key:1,class:"text-primary",size:"16"})):(o(),d("div",oe,s(n.$t("order.closeOrder")),1))])])):u("v-if",!0)])}}}),ae=p(de,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/OrderStatus.vue"]]),A=""+new URL("../images/buyer-e94b6811.svg",import.meta.url).href,ne={class:"bg-white rounded-xl mt-2 text-sm text-default px-5 py-4 font-Sans"},ie={class:"flex-start gap-1"},le=e("img",{src:A,class:"w-4 h-4",alt:""},null,-1),ce={class:"font-semibold"},ue={class:"flex-center-bw mt-2"},me={class:"opacity-60"},ve={key:0},fe={class:"flex justify-between gap-2 mt-2"},he={class:"opacity-60 whitespace-nowrap"},ye={class:"flex justify-between mt-2"},$e={class:"opacity-60"},pe={class:"max-w-[180px] whitespace-normal text-right"},_e={key:0},ge={key:1},we=_({props:{order:{type:null,required:!0}},setup(t){const{order:r}=t,i=g(()=>r.userAddress?r.userAddress.provinceName+r.userAddress.cityName+r.userAddress.countyName+r.userAddress.detailInfo:"-"),f=g(()=>r.userAddress?`${i.value}  ${r.userAddress.userName}  ${r.userAddress.telNumber}`:"-");return(a,m)=>(o(),d("div",ne,[e("div",ie,[le,e("div",ce,s(a.$t("order.buyerInfo")),1)]),e("div",ue,[e("div",me,s(a.$t("order.buyerId")),1),t.order.userAddress&&t.order.userAddress.id?(o(),d("div",ve,s(t.order.userAddress.id),1)):u("v-if",!0)]),e("div",fe,[e("div",he,s(a.$t("order.buyerRemark")),1),e("div",null,s(t.order.postscript||"-"),1)]),e("div",ye,[e("div",$e,s(a.$t("order.getInfo")),1),e("div",pe,[e("div",null,s(c(i)),1),t.order.userAddress&&t.order.userAddress.telNumber?(o(),d("div",_e,s(t.order.userAddress.telNumber),1)):u("v-if",!0),t.order.userAddress&&t.order.userAddress.userName?(o(),d("div",ge,s(t.order.userAddress.userName),1)):u("v-if",!0),e("div",{class:"rounded py-1 px-2 text-oriange1",onClick:m[0]||(m[0]=h=>c(k)(c(f)))},s(a.$t("common.copy")),1)])])]))}}),xe=p(we,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/BuyerInfo.vue"]]),be={class:"bg-white rounded-xl mt-2 text-sm text-default px-5 py-4 font-Sans text-right"},ke={class:"flex-start gap-1"},Ae=e("img",{src:A,class:"w-4 h-4",alt:""},null,-1),Ie={class:"font-semibold"},Ne={class:"flex-center-bw mt-2"},Ce={class:"opacity-60"},Se={class:"flex-center-bw mt-2"},Re={class:"opacity-60"},Be={class:"flex justify-between mt-2"},De={class:"opacity-60"},Te={class:"whitespace-normal"},Ue={key:0,class:"flex-center-bw mt-2"},Le={class:"opacity-60"},qe={key:1,class:"flex-center-bw mt-2"},Oe={class:"opacity-60"},je={class:"flex-center"},Ge=_({props:{order:{type:null,required:!0}},setup(t){return(r,i)=>(o(),d("div",be,[e("div",ke,[Ae,e("div",Ie,s(r.$t("order.orderInfo")),1)]),e("div",Ne,[e("div",Ce,s(r.$t("order.txHash")),1),e("div",null,s(c(w)(t.order.hash,"***",9,5)||"-"),1)]),e("div",Se,[e("div",Re,s(r.$t("order.payAddress")),1),e("div",null,s(c(w)(t.order.stores.merchant,"...",5,5)),1)]),e("div",Be,[e("div",De,s(r.$t("order.payTime")),1),e("div",Te,s(c(B)(t.order.createTime)),1)]),t.order.expressCompany?(o(),d("div",Ue,[e("div",Le,s(r.$t("order.deliveryCompany")),1),e("div",null,s(t.order.expressCompany),1)])):u("v-if",!0),t.order.expressNo?(o(),d("div",qe,[e("div",Oe,s(r.$t("order.deliveryId")),1),e("div",je,[e("div",null,s(t.order.expressNo),1),e("div",{class:"rounded py-1 pl-2 text-oriange1",onClick:i[0]||(i[0]=f=>c(k)(t.order.expressNo))},s(r.$t("common.copy")),1)])])):u("v-if",!0)]))}}),Ve=p(Ge,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/OrderInfo.vue"]]),Ee={key:0,class:"px-3 text-default"},Fe={class:"flex-start gap-2 mt-2"},He={class:"bg-white rounded-xl mt-2 text-sm px-5 py-4"},ze={class:"flex-start gap-1"},Me=e("img",{src:F,class:"w-4 h-4",alt:""},null,-1),Je={class:"font-semibold"},Ke={class:"flex-center mt-5"},Pe=_({setup(t){const r=x(),i=D(),f=r.query.id,a=T(null),m=async()=>{const l=await V({id:f});a.value=l.data},h=l=>{i.push(l)};return U(async()=>{await m()}),(l,n)=>a.value?(o(),d("div",Ee,[e("div",Fe,[$(O),e("div",null,s(l.$t("order.orderDetail")),1)]),$(ae,{status:a.value.status},null,8,["status"]),$(xe,{order:a.value},null,8,["order"]),e("div",He,[e("div",ze,[Me,e("div",Je,s(l.$t("order.goodsInfo")),1)]),(o(!0),d(L,null,q(a.value.orderGoods,v=>(o(),b(E,{key:v.goodsName,goods:v},null,8,["goods"]))),128))]),$(Ve,{order:a.value},null,8,["order"]),e("div",Ke,[a.value.status===1?(o(),d("button",{key:0,class:"btn-orange py-3 px-[70px] text-white text-sm font-semibold",onClick:n[0]||(n[0]=v=>h(`/orderDelivery?id=${a.value.id}`))},s(l.$t("order.deliver")),1)):u("v-if",!0)])])):u("v-if",!0)}}),ss=p(Pe,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/SellerorderDetail.vue"]]);export{ss as default};
