import{_ as g,d as k,b as n,e as c,g as e,t as s,a as R,B as I,an as T,ae as D,u as V,C as S,o as j,E as L,G as h,k as u,j as o,H as v,h as i,i as w,am as x,R as O,L as b}from"./index-e452b068.js";import{B as q}from"./BackIcon-cc5e0cf7.js";import{B as E}from"./BuyerDeliveredItem-bfcc9795.js";import{a as G,b as U,n as H}from"./order-fd4da3b6.js";import"./useOrderStatus-84a1f543.js";const M={class:"py-4 px-3 bg-white rounded-xl mt-3"},P=k({props:{order:{type:null,required:!0}},setup(a){return(t,m)=>(n(),c("div",M,[e("div",null,s(a.order.userAddress.userName),1),e("div",null,s(a.order.userAddress.telNumber)+" "+s(a.order.userAddress.provinceName)+s(a.order.userAddress.cityName)+s(a.order.userAddress.countyName)+s(a.order.userAddress.detailInfo),1)]))}}),z=g(P,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/BuyerAddressBox.vue"]]);const F={key:0,class:"px-3 bg-[#f2f0ef]"},J={class:"flex-start gap-2 mt-2"},K={class:"flex-center-bw mt-4"},Q={class:"opacity-60"},W={class:"flex-center-bw mt-4"},X={class:"opacity-60"},Y={class:"flex-center-bw mt-4"},Z={class:"opacity-60"},ee={class:"flex-center-bw mt-4"},se={class:"opacity-60"},te={class:"flex-center-bw mt-4"},re={class:"opacity-60"},oe={key:0,class:"flex-center-bw mt-4"},ae={class:"opacity-60"},de={key:1,class:"flex-center-bw mt-4"},ie={class:"opacity-60"},ne={class:"flex-center"},le={class:"flex justify-between mt-4 gap-2"},ce={class:"opacity-60 whitespace-nowrap"},ue={class:"flex justify-end items-center gap-5 mt-5"},ve=k({setup(a){const t=R(null);I();const{confirm:m}=T(),B=D(),{reloadStore:$}=V(),[f,p]=S(!1),y=B.query.id,C=async()=>{p(!0);try{const d=(await U({orderIds:y})).data.ordIds,l=await m(d);if(!l.success||!(await H({ordIds:d,hash:l.result.hash})).success)return;$.reload()}finally{p(!1)}},N=async()=>{const r=await G({id:y});t.value=r.data},A=r=>{};return j(async()=>{await N()}),(r,d)=>{const l=L("VanButton");return t.value?(n(),c("div",F,[e("div",J,[h(q),e("div",null,s(r.$t("order.buyerPaied")),1)]),t.value.userAddress?(n(),u(z,{key:0,order:t.value},null,8,["order"])):o("v-if",!0),h(E,{order:t.value},{default:v(()=>[e("div",K,[e("div",Q,s(r.$t("order.hash")),1),e("div",null,s(i(w)(t.value.hash,"***",9,5)||"-"),1)]),e("div",W,[e("div",X,s(r.$t("order.payAddress")),1),e("div",null,s(i(w)(t.value.stores.merchant,"...",5,5)),1)]),e("div",Y,[e("div",Z,s(r.$t("order.payTime")),1),e("div",null,s(i(x)(t.value.createTime)),1)]),e("div",ee,[e("div",se,s(r.$t("order.successTime")),1),e("div",null,s(i(x)(t.value.createTime)),1)]),e("div",te,[e("div",re,s(r.$t("order.orderNumber")),1),e("div",null,s(t.value.id),1)]),t.value.expressCompany?(n(),c("div",oe,[e("div",ae,s(r.$t("order.deliveryCompany")),1),e("div",null,s(t.value.expressCompany),1)])):o("v-if",!0),t.value.expressNo?(n(),c("div",de,[e("div",ie,s(r.$t("order.deliveryNum")),1),e("div",ne,[e("div",null,s(t.value.expressNo),1),e("div",{class:"rounded py-1 pl-2 text-oriange1",onClick:d[0]||(d[0]=_=>i(O)(t.value.expressNo))},s(r.$t("common.copy")),1)])])):o("v-if",!0),e("div",le,[e("div",ce,s(r.$t("order.orderRemark")),1),e("div",null,s(t.value.postscript||"-"),1)]),e("div",ue,[o("v-if",!0),t.value.status===2?(n(),u(l,{key:1,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:C,loading:i(f)},{default:v(()=>[b(s(r.$t("order.confirmGeted")),1)]),_:1},8,["loading"])):o("v-if",!0),o(' @click="handleTo(`/refundService?id=${order.id}`)" '),t.value.status===1?(n(),u(l,{key:2,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:d[1]||(d[1]=_=>A(t.value.id)),loading:i(f)},{default:v(()=>[b(s(r.$t("order.refund")),1)]),_:1},8,["loading"])):o("v-if",!0)])]),_:1},8,["order"])])):o("v-if",!0)}}}),he=g(ve,[["__scopeId","data-v-48170c2e"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/BuyerOrderDetail.vue"]]);export{he as default};
