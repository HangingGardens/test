import{_ as b,d as g,b as n,e as c,g as e,t as s,a as I,an as R,ae as D,u as T,C as V,o as j,E as L,G as _,k as u,j as a,H as v,h as d,i as h,am as w,R as O,L as x}from"./index-e87e19e8.js";import{B as S}from"./BackIcon-e7d88a00.js";import{B as q}from"./BuyerDeliveredItem-e182ff80.js";import{a as E,b as G,n as U}from"./order-2192f42d.js";import"./useOrderStatus-888a9d5f.js";const H={class:"py-4 px-3 bg-white rounded-xl mt-3"},M=g({props:{order:{type:null,required:!0}},setup(o){return(t,m)=>(n(),c("div",H,[e("div",null,s(o.order.userAddress.userName),1),e("div",null,s(o.order.userAddress.telNumber)+" "+s(o.order.userAddress.provinceName)+s(o.order.userAddress.cityName)+s(o.order.userAddress.countyName)+s(o.order.userAddress.detailInfo),1)]))}}),P=b(M,[["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/components/BuyerAddressBox.vue"]]);const z={key:0,class:"px-3 bg-[#f2f0ef]"},F={class:"flex-start gap-2 mt-2"},J={class:"flex-center-bw mt-4"},K={class:"opacity-60"},Q={class:"flex-center-bw mt-4"},W={class:"opacity-60"},X={class:"flex-center-bw mt-4"},Y={class:"opacity-60"},Z={class:"flex-center-bw mt-4"},ee={class:"opacity-60"},se={class:"flex-center-bw mt-4"},te={class:"opacity-60"},re={key:0,class:"flex-center-bw mt-4"},oe={class:"opacity-60"},ae={key:1,class:"flex-center-bw mt-4"},de={class:"opacity-60"},ne={class:"flex-center"},ie={class:"flex justify-between mt-4 gap-2"},le={class:"opacity-60 whitespace-nowrap"},ce={class:"flex justify-end items-center gap-5 mt-5"},ue=g({setup(o){const t=I(null),{confirm:m}=R(),k=D(),{reloadStore:B}=T(),[p,f]=V(!1),y=k.query.id,$=async()=>{f(!0);try{const i=(await G({orderIds:y})).data.ordIds,l=await m(i);if(!l.success||!(await U({ordIds:i,hash:l.result.hash})).success)return;B.reload()}finally{f(!1)}},C=async()=>{},N=async()=>{const r=await E({id:y});t.value=r.data};return j(async()=>{await N()}),(r,i)=>{const l=L("VanButton");return t.value?(n(),c("div",z,[e("div",F,[_(S),e("div",null,s(r.$t("order.buyerPaied")),1)]),t.value.userAddress?(n(),u(P,{key:0,order:t.value},null,8,["order"])):a("v-if",!0),_(q,{order:t.value},{default:v(()=>[e("div",J,[e("div",K,s(r.$t("order.hash")),1),e("div",null,s(d(h)(t.value.hash,"***",9,5)||"-"),1)]),e("div",Q,[e("div",W,s(r.$t("order.payAddress")),1),e("div",null,s(d(h)(t.value.stores.merchant,"...",5,5)),1)]),e("div",X,[e("div",Y,s(r.$t("order.payTime")),1),e("div",null,s(d(w)(t.value.createTime)),1)]),e("div",Z,[e("div",ee,s(r.$t("order.successTime")),1),e("div",null,s(d(w)(t.value.createTime)),1)]),e("div",se,[e("div",te,s(r.$t("order.orderNumber")),1),e("div",null,s(t.value.id),1)]),t.value.expressCompany?(n(),c("div",re,[e("div",oe,s(r.$t("order.deliveryCompany")),1),e("div",null,s(t.value.expressCompany),1)])):a("v-if",!0),t.value.expressNo?(n(),c("div",ae,[e("div",de,s(r.$t("order.deliveryNum")),1),e("div",ne,[e("div",null,s(t.value.expressNo),1),e("div",{class:"rounded py-1 pl-2 text-oriange1",onClick:i[0]||(i[0]=A=>d(O)(t.value.expressNo))},s(r.$t("common.copy")),1)])])):a("v-if",!0),e("div",ie,[e("div",le,s(r.$t("order.orderRemark")),1),e("div",null,s(t.value.postscript||"-"),1)]),e("div",ce,[a("v-if",!0),t.value.status===2?(n(),u(l,{key:1,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:$,loading:d(p)},{default:v(()=>[x(s(r.$t("order.confirmGeted")),1)]),_:1},8,["loading"])):a("v-if",!0),t.value.status===1?(n(),u(l,{key:2,round:"",class:"btn text-primary px-6 h-9 font-semibold",onClick:C,loading:d(p)},{default:v(()=>[x(s(r.$t("order.refund")),1)]),_:1},8,["loading"])):a("v-if",!0)])]),_:1},8,["order"])])):a("v-if",!0)}}}),_e=b(ue,[["__scopeId","data-v-48170c2e"],["__file","/Users/wangkeai/work/xueyan/mai/flashmall-dapp/src/view/order/BuyerOrderDetail.vue"]]);export{_e as default};
